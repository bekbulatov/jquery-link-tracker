(function(a){a.fn.linkTracker=function(c){var d={inDomain:true,event:"mouseup",fileTypes:["pdf","zip","rar","tgz","gz","gzip","jpg","png","svg","gif","doc","eps","xls","ppt","xls","txt","vsd","js","css","rar","exe","wma","mov","avi","wmv","mp3"]};var b=a.extend(d,c);return this.each(function(){var e=function(){var f=a(this),g=f.data("ga_category"),h=f.data("ga_action");if(!g||!h){return}if(typeof(pageTracker)=="object"){pageTracker._trackEvent(g,h,f.attr("href"))}else{if(typeof(_gaq)=="object"){_gaq.push(["_trackEvent",g,h,f.attr("href")])}else{throw ("Google Analytics tracking object not found")}}};a(this).each(function(){var j=a(this),i=j.attr("href");if(!i||/^#/.test(i)){return}if(/^mailto:/.test(i)){j.data("ga_category","links");j.data("ga_action","mailto")}else{var h=b.inDomain?location.host.match(/\w+\.\w+$/):location.host,f=a.inArray(i.substring(i.lastIndexOf(".")+1).toLowerCase(),b.fileTypes);if(f==-1){var g=a.url.setUrl(i).attr("host");if(!g||g==".."){return}if(b.inDomain){if(g.indexOf(h)!=-1){return}}else{if(g==h){return}}j.data("ga_category","links");j.data("ga_action","outgoing")}else{j.data("ga_category","downloads");j.data("ga_action",b.fileTypes[f])}}j.bind(b.event,e)})})}})(jQuery);